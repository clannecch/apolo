<% content_for(:head) do %>
   <style>
     .field{
         float:left;
         width:33%;
     }

      .actions{
         clear:both;
     }
   </style>
    <%=javascript_tag do %>
        $( "#employee_fecha_nacimiento" ).datepicker({
            defaultDate: -<%= 18.years.days %>,
            changeMonth: true,
            changeYear: true,
            minDate: new Date(1901, 1 - 1, 1),
            maxDate: (new Date).setFullYear("<%= Date.today.year - 18 %>")
        });

    <% end %>
<% end %>


localizacion: <%= I18n.locale %>

<%= form_for(@employee) do |f| %>
  <% if @employee.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@employee.errors.count, "error") %> prohibited this employee from being saved:</h2>

      <ul>
      <% @employee.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <ul class="tabs">
	<li><a href="#">Personales</a></li>
	<li><a href="#">Domicilio</a></li>
	<li><a href="#">Ocupacion</a></li>
    <li><a href="#">Filiacion</a></li>
	<li><a href="#">Contratacion</a></li>
    <li><a href="#">Banco-Seguro</a></li>
    <li><a href="#">Familiares</a></li>
    <li><a href="#">Benef.Seguro</a></li>
    <li><a href="#">Remuneraciones</a></li>
    <li><a href="#">Retenciones</a></li>
  </ul>
  <div class="panels">
    <div class="panel">
      <%= render :partial => 'datos_personales', :locals => {:f => f} %>
    </div>
    <div class="panel">
      <%= render :partial => 'datos_domicilio', :locals => {:f => f} %>
    </div>
    <div class="panel">
      <%= render :partial => 'datos_ocupacion', :locals => {:f => f} %>
    </div>
    <div class="panel">
      <%= render :partial => 'datos_filiacion', :locals => {:f => f} %>
    </div>
    <div class="panel">
      <%= render :partial => 'datos_contratacion', :locals => {:f => f} %>
    </div>
    <div class="panel">
      <%= render :partial => 'datos_seguro_banco', :locals => {:f => f} %>
    </div>

    <div  class="panel">
      <div class="field-nested">
        <%= f.label " " %><br />
        <h3>Familiares</h3>
        <div id="employee_familiares">
          <%= f.fields_for :employee_familiars do |employee_familiar| %>
            <%= render 'employee_familiar_fields', :f => employee_familiar %>
          <% end %>
          <div class="links">
            <%= link_to_add_association 'Agregar Familiar', f, :employee_familiars %>
          </div>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="field">
        <h3>Benefiario Seguro</h3>
        <div id="Insurance_beneficiary">
          <table class="field">
            <tr>
               <th><%= f.label "Apellido" %></th>
               <th><%= f.label "Nombre" %></th>
               <th><%= f.label "Tipo documento" %></th>
               <th><%= f.label "Numero de Documento" %></th>
               <th><%= f.label "Fecha Nacimiento" %></th>
               <th>&nbsp;</th>
            </tr>
            <tbody id="nested-holder">
            <%= f.fields_for :insurance_beneficiaries do |insurance_beneficiary| %>
              <%= render 'insurance_beneficiary_fields', :f => insurance_beneficiary %>
            <% end %>
            </tbody>
          </table>
          <div class="links">
            <%= link_to_add_association 'Agregar Beneficiario Seguro', f, :insurance_beneficiaries, 'data-association-insertion-node' => '#nested-holder', 'data-association-insertion-position' => :before %>
          </div>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="field">
        <h3>Conceptos remunerativos personalizados</h3>
        <div id="employee_remunerative_concept">
          <table class="field">
            <tr>
               <th><%= f.label "Concepto haber" %></th>
               <th><%= f.label "Detalle Personalizado" %></th>
               <th><%= f.label "Centro Costo" %></th>
               <th><%= f.label "Cantidad" %></th>
               <th><%= f.label "Importe" %></th>
               <th>&nbsp;</th>
            </tr>
           <tbody id="nested-holder2">
                <%= f.fields_for :employee_remunerative_concepts do |erc| %>
                     <%= render 'employee_remunerative_concept_fields', :f => erc %>
                <% end %>
            </tbody>
          </table>
          <div class="links">
            <%= link_to_add_association 'Agregar Haber', f, :employee_remunerative_concepts, 'data-association-insertion-node' => '#nested-holder2', 'data-association-insertion-position' => :before  %>
          </div>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="field">
        <h3>Conceptos de retenciones personalizados</h3>
        <div id="employee_retention_concept">
          <table class="field">
            <tr>
               <th><%= f.label "Concepto haber" %></th>
               <th><%= f.label "Detalle Personalizado" %></th>
               <th><%= f.label "Cantidad" %></th>
               <th><%= f.label "Importe" %></th>
               <th>&nbsp;</th>
            </tr>
            <tbody id="nested-holder3">
                <%= f.fields_for :employee_retention_concepts do |erc| %>
                  <%= render 'employee_retention_concept_fields', :f => erc %>
                <% end %>
            </tbody>
          </table>
          <div class="links">
            <%= link_to_add_association 'Agregar retencion', f, :employee_retention_concepts, 'data-association-insertion-node' => '#nested-holder3', 'data-association-insertion-position' => :before  %>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>