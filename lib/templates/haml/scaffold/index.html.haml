<%-
=begin

  This file is part of rails-templates (https://github.com/apslab/rails-templates) - application template and various custom templates to overrides generals rails generators
  Copyright (C) 2011 - Luis Petek <lmpetek@gmail.com>, Maximiliano Dello Russo <maxidr@gmail.com> and Luis E. Guardiola <lguardiola@gmail.com>

  controller.rb is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as
  published by the Free Software Foundation, either version 3 of the
  License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program. If not, see <http://www.gnu.org/licenses/>.

  Usage:
    put this file into lib/templates/haml/scaffold/index.html.haml

=end
-%>
- content_for(:title) do
  %h1= t('scaffold.actions.list', :item => <%= singular_table_name.camelize %>.model_name.human).titlecase

%table
  %tr
<% for attribute in attributes -%>
    %th= <%= singular_table_name.camelize %>.human_attribute_name('<%= attribute.name %>')
<% end -%>
    %th
    %th
    %th

  - @<%= plural_table_name %>.each do |<%= singular_table_name %>|
    %tr
<% for attribute in attributes -%>
      %td= <%= singular_table_name %>.<%= attribute.name %>
<% end -%>
      %td= link_to t('scaffold.actions.show').titlecase, <%= singular_table_name %>
      %td= link_to t('scaffold.actions.edit').titlecase, edit_<%= singular_table_name %>_path(<%= singular_table_name %>)
      %td= link_to t('scaffold.actions.destroy').titlecase, <%= singular_table_name %>, :confirm => t('scaffold.actions.destroy_confirm'), :method => :delete

%br

= link_to t('scaffold.actions.new', :item => <%= singular_table_name.camelize %>.model_name.human).titlecase, new_<%= singular_table_name %>_path

